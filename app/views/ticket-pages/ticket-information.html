<form role="form" name="user-information" ng-submit="submitTicket()" novalidate>
    <label class="form-group">
        <p>Ticket number</p>
        <input required name="ticketNumber" type="text" ng-model="ticket.number" class="form-control" />
    </label>
    <label class="form-group">
        <p>Ticket photo</p>
        <input required name="photo" type="file" image-upload="ticket.image" class="form-control" />
        <img style="max-height: 50px" ng-src="{{ ticket.image.data }}" alt="{{ ticket.number }}" />
    </label>

    <div class="checkbox-container">
        <div class="form-group form-group--checkbox">
            <input id="paymentMalfunction" ng-model="ticket.reason.paymentMalfunction.flag" name="reason" type="checkbox" value="true" class="form-control" />
            <label for="paymentMalfunction">Unable to pay meter.</label>
        </div>

        <div class="form-group" ng-if="ticket.reason.paymentMalfunction.flag">
            <div class="form-group form-group--checkbox">
                <input id="brokenMeter" ng-model="ticket.reason.paymentMalfunction.meter.flag" name="reason" type="checkbox" value="true" class="form-control" />
                <label for="brokenMeter">Broken parking meter.</label>
                <label class="form-group" ng-if="ticket.reason.paymentMalfunction.meter.flag">
                    <p>Meter id</p>
                    <input type="text" ng-model="ticket.reason.paymentMalfunction.meter.id">
                </label>
                <label class="form-group" ng-if="ticket.reason.paymentMalfunction.meter.flag">
                    <p>Call 888-888-8888 to report the meter and get a report confirmation number.</p>
                    <p>Report number</p>
                    <input type="text" ng-model="ticket.reason.paymentMalfunction.meter.reportNumber">
                </label>
            </div>
        </div>

        <div class="form-group form-group--checkbox">
            <input id="handicapped" ng-model="ticket.reason.handicapped.flag" name="reason" type="checkbox" value="true" class="form-control" />
            <label for="handicapped">Parked in handicapped spot.</label>
        </div>
        <div class="form-group form-group--checkbox">
            <input id="streetCleaning" ng-model="ticket.reason.streetCleaning.flag" name="reason" type="checkbox" value="true" class="form-control" />
            <label for="streetCleaning">Obstructing street cleaning.</label>
        </div>
        <div class="form-group form-group--checkbox">
            <input id="parkingReceipt" ng-model="ticket.reason.parkingReceipt.flag" name="reason" type="checkbox" value="true" class="form-control" />
            <label for="parkingReceipt">No parking receipt.</label>
        </div>
        <div class="form-group form-group--checkbox">
            <input id="other" ng-model="ticket.reason.other.flag" name="reason" type="checkbox" value="true" class="form-control" />
            <label for="other">Other.</label>
            <input class="form-group--checkbox_other" ng-if="ticket.reason.other.flag" type="text" ng-model="ticket.reason.other.text">
        </div>
    </div>

    <p>
        {{ error.message }}
    </p>

    <p>
        <button  class="btn btn-primary" ng-click="prevStep()" type="button">Prev</button>
        <button  class="btn btn-primary" type="submit ">Next</button>
    </p>
</form>
